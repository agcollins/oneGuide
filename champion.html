<!DOCTYPE HTML>

<html ng-app="championApp">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
		<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

		<!-- bootstrap Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

		<!-- bootstrap theme theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

		<!-- bootstrap compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
		<!-- angular cdn-->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-cookies.js"></script>

		<!--ui bootstrap angular directives-->
		<script src="ui-bootstrap-tpls-0.12.1.js"></script>

		<script src="champion.js"></script>
		<script src="panel.js"></script>
		<script src="build.js"></script>
		<script src="search.js"></script>
		<script src="accordion.js"></script>

		<title>oneGuide.lol</title>
	</head>
	<body style="background-color:#222" >
		<nav class="navbar navbar-inverse">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="wpg.html">oneGuide</a>
				</div>
				<form class="navbar-form navbar-left" role="search" ng-controller="SearchController as search">
					<div class="form-group">
						<input type="text" class="form-control" ng-model="search.selectedChamp" 
						typeahead="name for name in search.champNames | filter:$viewValue | limitTo:8" autocomplete="off" placeholder="champion name">
					</div>
					<button type="submit" class="btn btn-default" ng-click="search.loadBuild()" ng-disabled="!search.isValidName()">submit</button>
				</form>
			</div>
		</nav>

		<div class="container-fluid">
			<div class="row" ng-controller="PanelController as panel">
				<div class="col-sm-10" ng-controller="BuildController as build">
					<div class="row"> 
						<div class="col-sm-4">
							<img ng-src="{{build.selectedChampion.loadingimg}}">
						</div>

						<div class="col-sm-8">
							<h1 id="championname" style="color:#9D9D9D">{{build.selectedChampion.name}}</h1>
							<accordion close-others="false">
								<accordion-group heading="{{player}}" ng-show="panel.isSelected(player)" ng-repeat="player in panel.players">
									<div class="well">
										<span ng-repeat="item in panel.getGuide(player)">
											<img ng-src="{{item.imgsrc}}" style="display:inline-block; padding-right:5px"/>	
										</span>
									</div>
								</accordion-group>
							</accordion>
						</div>
					</div>	
				</div>	
				<div class="col-sm-2">
					<nav> 
						<div class="panel panel-default panel-right"> 
							<div class="panel-heading" style="background-image: linear-gradient(to bottom, #3C3C3C 0px, #222 100%); color:#9D9D9D; text-shadow:0px -1px 0px rgba(0, 0, 0, 0.25);">
								tracked players
								<button type="button" class="btn btn-default btn-xs" style="float:right" ng-click="panel.openModal()">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</button>
							</div>	
							<div class="panel-body" style="background-color:lightgrey">
								<ul class="nav nav-pills nav-stacked my-players">
									<li role="presentation" ng-click="panel.select('all')" ng-class="{active: panel.isSelected('all')}">
										<a href="#">all</a>
									</li>
									<li role="presentation" ng-repeat="playername in panel.players" ng-click="panel.select(playername)" ng-class="{active: panel.isSelected(playername)}">
										<a href="#">{{playername}}</a>
									</li>
								</ul>
							</div>
						</div>
					</nav>
				</div>
			</div>

			<script type="text/ng-template" id="addPlayerModal.html">
				<div class="modal-header">
					<h3 class="modal-title">Track a new player</h3>
				</div>
				<div class="modal-body container-fluid">
					<div class="row">
						<div class="col-sm-6">
							<form class="form-inline" ng-submit="addPlayer.attemptAdd()">
								<div class="form-group" style="width:85%">
									<input type="text" class="form-control" ng-model="addPlayer.summonerName" placeholder="summoner name"
									style="width:100%"></input>
								</div>
								<button type="submit" class="btn btn-default" style="width:14%">add</button>
							</form>
							<div ng-hide="!addPlayer.submitted" role="alert" ng-class="addPlayer.alertClasses" style="margin-top: 15px">
								{{addPlayer.alertMsg}}
							</div>
						</div>
						<div class="col-sm-6">
							<h4>Current players</h4>
							<ul class="list-group">
								<li class="list-group-item" ng-repeat="player in addPlayer.players">{{player}}
									<button class="btn btn-xs btn-danger" style="float:right" ng-click="addPlayer.remove(player)">
										<span class="glyphicon glyphicon-minus"></span>
									</button>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" ng-click="addPlayer.cancel()">close</button>
					<button type="button" class="btn btn-primary" ng-click="addPlayer.save()">save</button>
				</div>
			</script>
		</div>
	</div>	
</body>
</html>
